<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Portland Water Meter Management System</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://js.arcgis.com/4.28/esri/themes/light/main.css" />
    <script src="https://js.arcgis.com/4.28/"></script>
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-container">
            <div class="header-left">
                <!-- Clean, freestanding logo -->
                <img
                    src="https://www.portlandtx.com/ImageRepository/Document?documentId=4486"
                    alt="City of Portland, Texas"
                    class="city-logo-clean"
                />
                <div class="header-text">
                    <h1 class="app-title">Portland Water Meter Management System</h1>
                    <p class="app-subtitle">Municipal Utility Account Updates</p>
                </div>
            </div>
            <div class="header-stats">
                <div class="stat-card">
                    <div class="stat-icon blue-icon">ðŸ’§</div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalMeters">Loading...</div>
                        <div class="stat-label">Total Meters</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green-icon">âœ…</div>
                    <div class="stat-info">
                        <div class="stat-number" id="updatedMeters">Loading...</div>
                        <div class="stat-label">Updated</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Search Panel -->
        <div class="search-panel">
            <div class="search-container">
                <div class="search-input-wrapper">
                    <input
                        type="text"
                        id="searchInput"
                        placeholder="Search by address or account number..."
                        autocomplete="off"
                        class="search-input"
                    />
                    <button id="clearSearch" class="clear-search" aria-label="Clear search">Ã—</button>
                </div>
                <div id="searchResults" class="search-results hidden"></div>
                <button id="resetView" class="control-btn secondary">Reset Map</button>
            </div>
        </div>

        <!-- Map Panel -->
        <div class="map-panel" id="viewDiv"></div>

        <!-- Details Panel -->
        <div class="details-panel" id="detailsPanel">
            <div class="details-header">
                <h2 class="details-title">Meter Details</h2>
                <button id="closeDetails" class="close-details" aria-label="Close details panel">Ã—</button>
            </div>
            <div class="details-content" id="detailsContent"></div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator hidden">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <script src="app.js"></script>
</body>
</html>
